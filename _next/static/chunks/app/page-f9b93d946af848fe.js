(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4366:function(e,a,t){Promise.resolve().then(t.bind(t,9988))},9988:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var r=t(7437),s=t(6478);function l(){return(0,r.jsx)("div",{className:"w-full bg-primary border-t-2 border-black h-12 flex items-center overflow-hidden relative",children:(0,r.jsxs)(s.E.div,{className:"flex whitespace-nowrap font-mono font-bold text-sm uppercase tracking-widest text-black",animate:{x:[0,-1e3]},transition:{repeat:1/0,ease:"linear",duration:20},children:[(0,r.jsx)("span",{className:"mr-8",children:"System Ready... Waiting for Input..."}),(0,r.jsxs)("span",{className:"mr-8",children:["///"," FormWeaver AI v1.0 ","///"]}),(0,r.jsx)("span",{className:"mr-8",children:"System Ready... Waiting for Input..."}),(0,r.jsxs)("span",{className:"mr-8",children:["///"," FormWeaver AI v1.0 ","///"]}),(0,r.jsx)("span",{className:"mr-8",children:"System Ready... Waiting for Input..."}),(0,r.jsxs)("span",{className:"mr-8",children:["///"," FormWeaver AI v1.0 ","///"]}),(0,r.jsx)("span",{className:"mr-8",children:"System Ready... Waiting for Input..."}),(0,r.jsxs)("span",{className:"mr-8",children:["///"," FormWeaver AI v1.0 ","///"]}),(0,r.jsx)("span",{className:"mr-8",children:"System Ready... Waiting for Input..."}),(0,r.jsxs)("span",{className:"mr-8",children:["///"," FormWeaver AI v1.0 ","///"]}),(0,r.jsx)("span",{className:"mr-8",children:"System Ready... Waiting for Input..."}),(0,r.jsxs)("span",{className:"mr-8",children:["///"," FormWeaver AI v1.0 ","///"]})]})})}var o=t(7034);function n(e){let{schema:a}=e;return a?(0,r.jsx)("div",{className:"w-full h-full bg-base p-8 relative overflow-y-auto",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto border-2 border-black shadow-hard bg-white p-8",children:[(0,r.jsxs)("div",{className:"mb-8 border-b-2 border-black pb-4",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold uppercase tracking-tighter mb-2",children:a.metadata.title}),a.metadata.description&&(0,r.jsx)("p",{className:"font-mono text-sm text-black/60",children:a.metadata.description}),(0,r.jsx)("div",{className:"flex gap-2 mt-4 font-mono text-xs",children:a.metadata.target_platforms.map(e=>(0,r.jsx)("span",{className:"bg-black text-white px-2 py-1 uppercase",children:e},e))})]}),(0,r.jsxs)("form",{className:"space-y-6",children:[a.fields.map(e=>{var a,t;return(0,r.jsxs)("div",{className:"group",children:[(0,r.jsxs)("label",{className:"block font-bold text-sm uppercase mb-2 group-focus-within:text-primary transition-colors",children:[e.label,e.label_localized&&(0,r.jsxs)("span",{className:"text-black/50 ml-2",children:["(",e.label_localized,")"]}),e.required&&(0,r.jsx)("span",{className:"text-primary ml-1",children:"*"})]}),("short_text"===e.type||"number"===e.type||"date"===e.type||"rating"===e.type)&&(0,r.jsx)("input",{type:"number"===e.type?"number":"date"===e.type?"date":"text",className:"w-full bg-base border-2 border-black p-3 font-mono text-sm focus:outline-none focus:shadow-[4px_4px_0px_0px_#FFD700] transition-all placeholder:text-black/30"}),"long_text"===e.type&&(0,r.jsx)("textarea",{rows:4,className:"w-full bg-base border-2 border-black p-3 font-mono text-sm focus:outline-none focus:shadow-[4px_4px_0px_0px_#FFD700] transition-all resize-none placeholder:text-black/30"}),"select"===e.type&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{className:"w-full bg-base border-2 border-black p-3 font-mono text-sm focus:outline-none focus:shadow-[4px_4px_0px_0px_#FFD700] transition-all appearance-none cursor-pointer",children:[(0,r.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select an option..."}),null===(a=e.options)||void 0===a?void 0:a.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsx)(o.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none"})]}),"radio"===e.type&&(0,r.jsx)("div",{className:"flex flex-col gap-2",children:null===(t=e.options)||void 0===t?void 0:t.map(a=>(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:e.id,className:"accent-black w-4 h-4"}),(0,r.jsx)("span",{className:"font-mono text-sm",children:a})]},a))}),"file_upload"===e.type&&(0,r.jsx)("div",{className:"border-2 border-dashed border-black bg-base p-4 text-center cursor-pointer hover:bg-black/5 transition-colors",children:(0,r.jsx)("span",{className:"font-mono text-xs uppercase",children:"Click to upload file"})})]},e.id)}),(0,r.jsxs)("div",{className:"pt-6 border-t-2 border-black mt-8 flex gap-4",children:[(0,r.jsx)("button",{type:"button",className:"flex-1 bg-black text-white font-bold uppercase py-4 hover:bg-primary hover:text-black hover:shadow-hard border-2 border-transparent hover:border-black transition-all",children:"Submit Form"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="form-schema.json",r.click(),URL.revokeObjectURL(t)},className:"bg-white text-black font-bold uppercase py-4 px-6 border-2 border-black hover:bg-black/5 hover:shadow-hard transition-all",title:"Download Schema JSON for Deployment",children:[(0,r.jsx)("span",{className:"sr-only",children:"Download JSON"}),"JSON ↓"]})]})]})]})}):(0,r.jsxs)("div",{className:"w-full h-full bg-base p-8 relative overflow-y-auto flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute top-4 right-4 font-mono text-xs text-black/50",children:"PREVIEW_MODE_ACTIVE"}),(0,r.jsx)("div",{className:"border-2 border-dashed border-black/20 w-full h-full flex items-center justify-center rounded-lg",children:(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("p",{className:"font-bold text-xl uppercase tracking-widest text-black/40",children:"Blueprint Area"}),(0,r.jsx)("p",{className:"font-mono text-sm text-black/60",children:"Awaiting JSON signal..."})]})})]})}var i=t(2265);function c(e){let{onGenerate:a,loading:t}=e,[l,o]=(0,i.useState)("");return(0,r.jsxs)("div",{className:"w-full md:w-1/2 p-6 flex flex-col border-r-2 border-black bg-white relative z-10",children:[(0,r.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,r.jsxs)("label",{className:"font-bold text-lg uppercase flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(t?"bg-primary animate-ping":"bg-black animate-pulse")}),"Terminal Input"]}),(0,r.jsx)("div",{className:"font-mono text-xs text-black/40",children:"CMD_MODE"})]}),(0,r.jsxs)("div",{className:"flex-1 relative border-2 border-black shadow-hard bg-base overflow-hidden p-1",children:[(0,r.jsx)("textarea",{value:l,onChange:e=>o(e.target.value),disabled:t,className:"w-full h-full p-4 font-mono text-sm bg-transparent resize-none focus:outline-none focus:bg-white/50 transition-colors disabled:opacity-50",placeholder:"// Enter your prompt here...   // Example: Create a registration form for a cyber-punk hackathon.",spellCheck:!1}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-3 h-3 border-t-2 border-l-2 border-primary"}),(0,r.jsx)("div",{className:"absolute top-0 right-0 w-3 h-3 border-t-2 border-r-2 border-primary"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-3 h-3 border-b-2 border-l-2 border-primary"}),(0,r.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 border-b-2 border-r-2 border-primary"})]}),(0,r.jsx)("div",{className:"mt-6 flex justify-end",children:(0,r.jsxs)(s.E.button,{onClick:()=>{l.trim()&&a(l)},disabled:t,whileHover:t?{}:{scale:1.02,x:-2,y:-2,boxShadow:"6px 6px 0px 0px #000"},whileTap:t?{}:{scale:.98,x:0,y:0,boxShadow:"2px 2px 0px 0px #000"},className:"bg-primary text-black font-bold uppercase py-3 px-8 border-2 border-black shadow-hard transition-all flex items-center gap-2 ".concat(t?"opacity-50 cursor-not-allowed":""),children:[(0,r.jsx)("span",{children:t?"Compiling...":"Initialize Form"}),!t&&(0,r.jsx)("span",{className:"font-mono",children:"→"})]})})]})}var d=t(1548),m=t(572);let p=m.Ryn({type:m.KmV(["regex","min","max","required"]),value:m.G0j([m.Z_8(),m.Rxh()]).optional(),errorMessage:m.Z_8().optional()}),x=m.Ryn({id:m.Z_8(),label:m.Z_8().describe("The English label"),label_localized:m.Z_8().optional().describe("The regional translation (Tamil/Hindi)"),type:m.KmV(["short_text","long_text","number","select","radio","date","rating","file_upload"]),required:m.O72(),options:m.IXX(m.Z_8()).optional(),validations:m.IXX(p).optional(),meta_tag:m.KmV(["clean_food_score","soil_type","waste_category","general"]).optional()}),b=m.Ryn({metadata:m.Ryn({title:m.Z_8(),description:m.Z_8(),language:m.Z_8().describe("ISO code like ta-IN"),estimated_completion_time:m.Z_8(),target_platforms:m.IXX(m.KmV(["google","zoho","microsoft"]))}),fields:m.IXX(x)}),h=t(257).env.NEXT_PUBLIC_GEMINI_API_KEY||"AIzaSyDa68jfceX2bZub3PD26qWtnqiVT8zX1EY",u=new d.$D(h);async function f(e){try{let a=u.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json",temperature:.2}}),t=(await a.generateContent(["\n      You are a Principal Data Architect for 'FormWeaver'.\n      Convert the user's natural language request into a strict JSON Form Schema.\n\n      ### 1. DOMAIN INTELLIGENCE RULES:\n      - **Context: FarmTrust / Agriculture**\n        - IF the user mentions \"farming\" or \"crops\":\n        - ALWAYS add a 'clean_food_score' field (0-100 rating).\n        - ALWAYS add a 'soil_type' dropdown (Red, Black, Alluvial, Loam).\n        - Auto-translate labels to the local language implies (e.g., Tamil for TN).\n\n      - **Context: WasteLink / KuppaiLink**\n        - IF the user mentions \"waste\" or \"garbage\":\n        - ALWAYS add a 'waste_category' dropdown (Bio, Non-Bio, Hazardous).\n        - ALWAYS add a 'geo_tag' text field for location coordinates.\n\n      ### 2. STRICT OUTPUT:\n      - You must output PURE JSON.\n      - Follow the schema structure: metadata + fields.\n      - Do not chat. Do not explain. Just output JSON.\n    ","User Request: ".concat(e)])).response.text();console.log("AI Raw Output:",t);let r=b.safeParse(JSON.parse(t));if(!r.success)throw console.error("AI Schema Validation Failed:",r.error),Error("AI generated invalid structure. Please refine prompt.");return r.data}catch(e){throw console.error("Gemini Client Error:",e),e}}function g(){let[e,a]=(0,i.useState)(null),[t,s]=(0,i.useState)(!1),o=async e=>{s(!0),a(null);try{let t=await f(e);a(t)}catch(e){console.error(e),alert("Generation Failed: "+e.message)}finally{s(!1)}};return(0,r.jsxs)("main",{className:"flex flex-col h-screen overflow-hidden bg-base",children:[(0,r.jsxs)("header",{className:"h-16 border-b-2 border-black flex items-center justify-between px-6 bg-surface z-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-primary border border-black"}),(0,r.jsxs)("h1",{className:"font-bold text-2xl tracking-tighter uppercase",children:["FormWeaver",(0,r.jsx)("span",{className:"text-primary",children:".AI"})]})]}),(0,r.jsxs)("div",{className:"font-mono text-xs hidden md:block",children:["STATUS: ",t?"PROCESSING...":"ONLINE"," ","//"," LATENCY: 12ms"]})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden relative",children:[(0,r.jsx)(c,{onGenerate:o,loading:t}),(0,r.jsx)("div",{className:"w-full md:w-1/2 bg-base relative z-0",children:(0,r.jsx)(n,{schema:e})})]}),(0,r.jsx)(l,{})]})}}},function(e){e.O(0,[533,971,117,744],function(){return e(e.s=4366)}),_N_E=e.O()}]);